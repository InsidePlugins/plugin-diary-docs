# TR-1 最简单的开发环境

::: info <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' transform='scale(0.6)' fill='%23fff'%3E%3Cpath d='M9.1 0C10.2 0 10.7 0.7 10.7 1.6 10.7 2.6 9.8 3.6 8.6 3.6 7.6 3.6 7 3 7 2 7 1.1 7.7 0 9.1 0Z'/%3E%3Cpath d='M5.8 16C5 16 4.4 15.5 5 13.2L5.9 9.1C6.1 8.5 6.1 8.2 5.9 8.2 5.7 8.2 4.6 8.6 3.9 9.1L3.5 8.4C5.6 6.6 7.9 5.6 8.9 5.6 9.8 5.6 9.9 6.6 9.5 8.2L8.4 12.5C8.2 13.2 8.3 13.5 8.5 13.5 8.7 13.5 9.6 13.2 10.4 12.5L10.9 13.2C8.9 15.2 6.7 16 5.8 16Z'/%3E%3C/svg%3E" style="background-color:#0B87DA; clip-path: circle();" width="24px" height="24px"> **该部分内容适合新手**
如果你发现其中内容过于简单，请考虑**跳过以 TR 标识的章节**。
:::

上一节是有关 Bukkit 的历史概要。说了这么多，不编写一个插件似乎说不过去……

::: info <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' transform='scale(0.6)' fill='%23fff'%3E%3Cpath d='M9.1 0C10.2 0 10.7 0.7 10.7 1.6 10.7 2.6 9.8 3.6 8.6 3.6 7.6 3.6 7 3 7 2 7 1.1 7.7 0 9.1 0Z'/%3E%3Cpath d='M5.8 16C5 16 4.4 15.5 5 13.2L5.9 9.1C6.1 8.5 6.1 8.2 5.9 8.2 5.7 8.2 4.6 8.6 3.9 9.1L3.5 8.4C5.6 6.6 7.9 5.6 8.9 5.6 9.8 5.6 9.9 6.6 9.5 8.2L8.4 12.5C8.2 13.2 8.3 13.5 8.5 13.5 8.7 13.5 9.6 13.2 10.4 12.5L10.9 13.2C8.9 15.2 6.7 16 5.8 16Z'/%3E%3C/svg%3E" style="background-color:#0B87DA; clip-path: circle();" width="24px" height="24px"> **什么**？**这就要开始了**？
在本教程中，我不会提前将那些本来应当由你自己发现的内容告诉你。这就像挖矿，使用 XRay 固然很快速，但使用 XRay 挖来的钻石，你能体验到第一次看到钻石的激动、小心挖开周围石头的谨慎、损失一块钻石的伤心吗？

我希望插件开发对你而言是探索的快乐，而不是被迫的无奈。
:::

那么我们要从哪里开始呢？当然是从安装开发工具开始了！

## 确认系统位数

我假设你在使用 Windows，如果你已经开始挑战 GNU/Linux 了，那么你已经知道的相当多，不需要阅读本部分了。

大多数 Windows 都是 64 位操作系统，但偶然也会有例外。我们的开发是需要 64 位操作系统的。

在桌面上右键「此电脑」（Windows 8/10）或「计算机」（Windows 7），单击「属性」，会弹出一个窗口。

取决于你系统的版本，弹出的窗口可能不一样。总之，在窗口中如果能够看到这样的字样就对了：

**64 位操作系统，基于 x64 的处理器**

如果你看到了，那恭喜你！你可以开始开发了！如果你看到的是 **32 位操作系统**，那很遗憾，尝试换一台 64 位的电脑吧。

---

如果系统位数正确（64 位），那我们就该开始设置开发环境了，说是「设置」，其实很简单，我们只需要安装三个软件就可以了。

## JDK

首先，下载 JDK 安装包。

如果你打算写一个能运行在 1.17 及以上版本服务端的插件，那么建议你下载 [JDK 17](https://mirrors.tuna.tsinghua.edu.cn/Adoptium/17/jdk/x64/windows/OpenJDK17U-jdk_x64_windows_hotspot_17.0.7_7.msi)，否则就下载 [JDK 11](https://mirrors.tuna.tsinghua.edu.cn/Adoptium/11/jdk/x64/windows/OpenJDK11U-jdk_x64_windows_hotspot_11.0.19_7.msi) 。

上述链接是 **Adoptium JDK** 的下载地址，该 JDK 系自由软件，如果只是使用的话不存在版权问题，大家尽管使用~

其实 JDK 版本与插件所支持的 Minecraft 服务端版本之间并没有必然联系。即使你下载了 JDK 11，写出来的插件也完全可以运行在 1.17 版本的服务端上。下载了 JDK 17，插件也不一定就不支持 1.16.5 版本的服务端。JDK 版本影响的是你能在电脑上运行哪个版本的 Minecraft 服务端。运行一个 1.17 及以上版本的服务端时，你不能使用 JDK 11，只能使用 17 及以上版本的 JDK 。假如你要写一个支持 1.17 版本服务端的插件，电脑上却不能运行 1.17 版本的服务端，那你就只能在 1.16.5 版本的服务端里测试，无法保证该插件在 1.17 版本服务端中运行的情况。

下文中，所有代码都基于 1.16.5 版本 Minecraft 服务端编写。所以此处演示如何安装 JDK 11 。

注：在 ThatRarityEG 写下此章节时，Minecraft 尚没有 1.17 版本。现依据实际情况添加了 JDK 17 的下载链接，以及 Mojang 对于 JDK 版本的要求。谨按，后文中所有插件样例及代码都是针对 1.16.5 版本所编写，不便修改。专此说明。

下载完成后双击进行安装，安装过程很简单，一路单击「下一步」即可。

到这个窗口时，就要小心了！

![SETUP.png](https://s2.loli.net/2023/06/17/j7OHWNQJ2mIdPST.png)

你要这样做：

![SELECT.png](https://s2.loli.net/2023/06/17/m3KIBxRwjGiqJHb.png)

*这让安装程序自动设置了环境变量，方便后续操作。*

单击「JDK with Hotspot」左边的图标，单击「将安装在本地硬盘上」，单击后，就可以单击「下一步」继续了。安装很快就完成了。

## 服务端

下载 [这个文件](https://cdn.getbukkit.org/spigot/spigot-1.16.5.jar)。这是**服务端核心**。

当然，你也许已经注意到了，这个文件的下载速度很慢（大概要十几分钟吧），但是我们也没办法，因此请大家忍耐一下，如果它下载需要很长时间，可以先做做别的事情。

下载后得到 `spigot-1.16.5.jar`，把它复制到一个合适的地方。

## IDE

点击[这个链接](https://www.jetbrains.com.cn/idea/download/download-thanks.html?platform=windows)来下载安装包。这是 **IntelliJ IDEA**，一个强大的开发工具。

::: info <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' transform='scale(0.6)' fill='%23fff'%3E%3Cpath d='M9.1 0C10.2 0 10.7 0.7 10.7 1.6 10.7 2.6 9.8 3.6 8.6 3.6 7.6 3.6 7 3 7 2 7 1.1 7.7 0 9.1 0Z'/%3E%3Cpath d='M5.8 16C5 16 4.4 15.5 5 13.2L5.9 9.1C6.1 8.5 6.1 8.2 5.9 8.2 5.7 8.2 4.6 8.6 3.9 9.1L3.5 8.4C5.6 6.6 7.9 5.6 8.9 5.6 9.8 5.6 9.9 6.6 9.5 8.2L8.4 12.5C8.2 13.2 8.3 13.5 8.5 13.5 8.7 13.5 9.6 13.2 10.4 12.5L10.9 13.2C8.9 15.2 6.7 16 5.8 16Z'/%3E%3C/svg%3E" style="background-color:#0B87DA; clip-path: circle();" width="24px" height="24px"> 如果你还在使用 Windows 7，请下载[这个版本](https://download.jetbrains.com/idea/ideaIU-2020.1.4.exe)。
:::

下载后同样运行安装程序，同意许可协议，安装即可。

IDEA 的安装没有注意事项，全部「Next」就好啦~

---

就这么简单，我们不需要进行任何复杂的配置，只要上面三个都准备好了就 OK 啦~

## Java 语言

Minecraft 使用一种名为 Java 的语言进行开发。有点眼熟？你肯定已经不止一次在启动器中看到它啦！

既然 Minecraft 是 Java 在运行，我们的插件自然也要用 Java 来写。

我们只要把 Java 认识的东西交给它，它就会帮我们解决问题，后面的事情，我们就不管啦~

下一章我们就来编写一些 Java 代码。哦，没学过 Java？不需要！