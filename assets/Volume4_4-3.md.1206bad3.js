import{_ as s,o,c as a,S as n}from"./chunks/framework.7f03344f.js";const u=JSON.parse('{"title":"4-3 JavaMail","description":"","frontmatter":{},"headers":[],"relativePath":"Volume4/4-3.md","filePath":"docs/Volume4/4-3.md","lastUpdated":1698403164000}'),t={name:"Volume4/4-3.md"},e=n(`<h1 id="_4-3-javamail" tabindex="-1">4-3 JavaMail <a class="header-anchor" href="#_4-3-javamail" aria-label="Permalink to &quot;4-3 JavaMail&quot;">​</a></h1><h2 id="邮件的作用" tabindex="-1">邮件的作用 <a class="header-anchor" href="#邮件的作用" aria-label="Permalink to &quot;邮件的作用&quot;">​</a></h2><p>插件需要邮件做什么呢？似乎没什么用（笑）。</p><p>其实还是有的，有时候服务端可能会想通过邮件发送通知，邮件还可以用于重设密码等等。</p><p>不过对于大多数现代服务器的组织方式，邮件似乎已经是个「老古董」了，尽管如此，邮件看起来比较正式，因此我们还是介绍一下。如果只需要学习一点点内容就可以让服务器多一项功能，那为什么不这样做呢？</p><h2 id="javamail" tabindex="-1">JavaMail <a class="header-anchor" href="#javamail" aria-label="Permalink to &quot;JavaMail&quot;">​</a></h2><p>纯粹的 Java 发送邮件，可能需要和 SMTP 服务器（发件服务器）进行很多次数据沟通，这很麻烦，不过幸运的是（又来了），Sun（Java 的开发公司）为我们提供了 JavaMail 类库，用于方便地进行邮件收发（其实主要是发送，对于插件而言）。<s>这又是一个好轮子</s></p><p>我们可以在 <a href="https://github.com/javaee/javamail/releases" target="_blank" rel="noreferrer">JavaMail 发行页面</a> 下载 JavaMail 的类库，下载 <code>javax.mail.jar</code> 即可。下载后同样保存到一个找到的的地方。</p><h2 id="邮箱配置" tabindex="-1">邮箱配置 <a class="header-anchor" href="#邮箱配置" aria-label="Permalink to &quot;邮箱配置&quot;">​</a></h2><p>一般的插件都只使用发件功能，因此我们也只介绍发件，收件功能其实和发件差不多。</p><p>发送邮件时，我们只需要把邮件送达 SMTP 服务器就可以了。SMTP 就是发件服务器，相当于现实生活的邮局。</p><p>我们需要从服主那里获得 SMTP 服务器（哪个邮件服务商），用户名，授权码等内容。其中授权码是一个比较有趣的部分。</p><div class="info custom-block"><p class="custom-block-title"><img src="data:image/svg+xml,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; viewBox=&#39;0 0 16 16&#39; transform=&#39;scale(0.6)&#39; fill=&#39;%23fff&#39;%3E%3Cpath d=&#39;M9.1 0C10.2 0 10.7 0.7 10.7 1.6 10.7 2.6 9.8 3.6 8.6 3.6 7.6 3.6 7 3 7 2 7 1.1 7.7 0 9.1 0Z&#39;/%3E%3Cpath d=&#39;M5.8 16C5 16 4.4 15.5 5 13.2L5.9 9.1C6.1 8.5 6.1 8.2 5.9 8.2 5.7 8.2 4.6 8.6 3.9 9.1L3.5 8.4C5.6 6.6 7.9 5.6 8.9 5.6 9.8 5.6 9.9 6.6 9.5 8.2L8.4 12.5C8.2 13.2 8.3 13.5 8.5 13.5 8.7 13.5 9.6 13.2 10.4 12.5L10.9 13.2C8.9 15.2 6.7 16 5.8 16Z&#39;/%3E%3C/svg%3E" style="background-color:#0B87DA;clip-path:circle();" width="24px" height="24px"> <strong>到底怎么回事</strong>？</p><p>最早的时候，SMTP 服务器的密码就是注册邮件服务商时候用的密码。</p><p>但是，随着对邮件的依赖减少，SMTP 这项功能被逐渐削弱，取而代之的是各个服务商自己实现的方法。</p><p>在像 QQ 邮箱一类的邮箱中，你的登录密码<strong>并不是 SMTP 密码</strong>，这些邮件服务商使用一种被称为授权码的东西来连接，这个授权码才是 SMTP 的密码。</p><p>授权码需要在你的邮箱设置中获取。由于不同邮件服务商的 SMTP 开启和获得授权码的方法不一致，我们在这里就不做介绍了，有需要可以自行搜索。</p></div><p>不管怎样，这不是我们应该关心的内容，那是服主要管的事情~只要上面那些信息都集齐了就可以了。</p><h2 id="发送一封邮件" tabindex="-1">发送一封邮件 <a class="header-anchor" href="#发送一封邮件" aria-label="Permalink to &quot;发送一封邮件&quot;">​</a></h2><p>发送一封邮件有几个步骤。</p><h3 id="获得与邮件服务器的对话" tabindex="-1">获得与邮件服务器的对话 <a class="header-anchor" href="#获得与邮件服务器的对话" aria-label="Permalink to &quot;获得与邮件服务器的对话&quot;">​</a></h3><p>这相当于登录，客户端与 SMTP 进行握手，确认身份信息，准备发送邮件。</p><p>首先我们要从服主那里取得连接信息。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki css-variables"><code><span class="line"><span style="color:var(--shiki-token-keyword);">final</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">String</span><span style="color:var(--shiki-color-text);"> SMTP_HOST </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&quot;smtp-mail.outlook.com&quot;</span><span style="color:var(--shiki-color-text);">; </span><span style="color:var(--shiki-token-comment);">// SMTP 服务器地址</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">final</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">String</span><span style="color:var(--shiki-color-text);"> PORT </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&quot;25&quot;</span><span style="color:var(--shiki-color-text);">; </span><span style="color:var(--shiki-token-comment);">// SMTP 端口</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">final</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">String</span><span style="color:var(--shiki-color-text);"> TIMEOUT </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&quot;1000&quot;</span><span style="color:var(--shiki-color-text);">; </span><span style="color:var(--shiki-token-comment);">// 超时设置</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">final</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">String</span><span style="color:var(--shiki-color-text);"> USERNAME </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&quot;example@outlook.com&quot;</span><span style="color:var(--shiki-color-text);">; </span><span style="color:var(--shiki-token-comment);">// 使用的邮箱</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">final</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">String</span><span style="color:var(--shiki-color-text);"> PASSWORD </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&quot;********&quot;</span><span style="color:var(--shiki-color-text);">; </span><span style="color:var(--shiki-token-comment);">// 授权码或密码</span></span></code></pre></div><p>然后进行连接：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki css-variables"><code><span class="line"><span style="color:var(--shiki-token-keyword);">Properties</span><span style="color:var(--shiki-color-text);"> properties </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">new</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">Properties()</span><span style="color:var(--shiki-color-text);">; </span><span style="color:var(--shiki-token-comment);">// Properties 收集信息</span></span>
<span class="line"><span style="color:var(--shiki-token-constant);">properties</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-function);">setProperty</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;mail.transport.protocol&quot;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&quot;SMTP&quot;</span><span style="color:var(--shiki-color-text);">); </span><span style="color:var(--shiki-token-comment);">// 为了使用 SMTP</span></span>
<span class="line"><span style="color:var(--shiki-token-constant);">properties</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-function);">setProperty</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;mail.smtp.host&quot;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> SMTP_HOST); </span><span style="color:var(--shiki-token-comment);">// 设置服务器</span></span>
<span class="line"><span style="color:var(--shiki-token-constant);">properties</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-function);">setProperty</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;mail.smtp.port&quot;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> PORT); </span><span style="color:var(--shiki-token-comment);">// 设置端口</span></span>
<span class="line"><span style="color:var(--shiki-token-constant);">properties</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-function);">setProperty</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;mail.smtp.auth&quot;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&quot;true&quot;</span><span style="color:var(--shiki-color-text);">); </span><span style="color:var(--shiki-token-comment);">// 不会现在还有哪个邮件服务商不需要验证的吧？</span></span>
<span class="line"><span style="color:var(--shiki-token-constant);">properties</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-function);">setProperty</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&quot;mail.smtp.timeout&quot;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> TIMEOUT); </span><span style="color:var(--shiki-token-comment);">// 避免超时</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">Authenticator</span><span style="color:var(--shiki-color-text);"> authenticator </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">new</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">Authenticator()</span><span style="color:var(--shiki-color-text);"> { </span><span style="color:var(--shiki-token-comment);">// 以下代码是进行验证的标准代码，从此开始</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    @</span><span style="color:var(--shiki-token-keyword);">Override</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-keyword);">protected</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">PasswordAuthentication</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">getPasswordAuthentication</span><span style="color:var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">        </span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">new</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">PasswordAuthentication(USERNAME</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-token-function);"> PASSWORD)</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    }</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">}; </span><span style="color:var(--shiki-token-comment);">// 到此结束</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">Session</span><span style="color:var(--shiki-color-text);"> session </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">Session</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-function);">getInstance</span><span style="color:var(--shiki-color-text);">(properties</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> authenticator); </span><span style="color:var(--shiki-token-comment);">// 建立连接</span></span></code></pre></div><div class="danger custom-block"><p class="custom-block-title"><img src="data:image/svg+xml,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; viewBox=&#39;0 0 16 16&#39; transform=&#39;scale(0.6)&#39; fill=&#39;%23fff&#39;%3E%3Cpath d=&#39;M10 14C10 15.1 9.1 16 8 16 6.9 16 6 15.1 6 14 6 12.9 6.9 12 8 12 9.1 12 10 12.9 10 14Z&#39;/%3E%3Cpath d=&#39;M10 1.6C10 1.2 9.8 0.9 9.6 0.7 9.2 0.3 8.6 0 8 0 7.4 0 6.8 0.2 6.5 0.6 6.2 0.9 6 1.2 6 1.6 6 1.7 6 1.8 6 1.9L6.8 9.6C6.9 9.9 7 10.1 7.2 10.2 7.4 10.4 7.7 10.5 8 10.5 8.3 10.5 8.6 10.4 8.8 10.3 9 10.1 9.1 9.9 9.2 9.6L10 1.9C10 1.8 10 1.7 10 1.6Z&#39;/%3E%3C/svg%3E" style="background-color:#DA0B50;clip-path:circle();" width="24px" height="24px"> <strong>当心</strong>！</p><p>和上一章一样，虽然服务端的执行很快，但邮件服务器的响应没有那么快，我们需要使用 <code>BukkitRunnable</code> 进行异步处理以免出现卡服现象。</p></div><h3 id="编写和发送" tabindex="-1">编写和发送 <a class="header-anchor" href="#编写和发送" aria-label="Permalink to &quot;编写和发送&quot;">​</a></h3><p>这相当于我们平时写邮件时填写各种信息。这部分可以从服主那里获取以按照服务器的规范发送邮件，也可以自己决定。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki css-variables"><code><span class="line"><span style="color:var(--shiki-token-keyword);">try</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-keyword);">MimeMessage</span><span style="color:var(--shiki-color-text);"> msg </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">new</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">MimeMessage(session)</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-constant);">msg</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-function);">setFrom</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-keyword);">new</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">InternetAddress(USERNAME)</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-comment);">// 发件人，如果和登录用的地址不一样，有些 SMTP 服务器不发（认为是盗用）</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-keyword);">final</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">String</span><span style="color:var(--shiki-color-text);"> PLAYER_MAIL </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&quot;player@example.com&quot;</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-comment);">// 收件人，一般是玩家邮箱</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-keyword);">final</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">String</span><span style="color:var(--shiki-color-text);"> MAIL_HTML </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&quot;&lt;!DOCTYPE html&gt;&lt;html&gt;HTML 文本内容&lt;/html&gt;&quot;</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-comment);">// 邮件正文，应当从配置读取</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-keyword);">final</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">String</span><span style="color:var(--shiki-color-text);"> SUBJECT </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&quot;主题内容&quot;</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-comment);">// 主题，建议不要为空，否则有些 IMAP 服务器不收这种邮件（会视为垃圾邮件丢掉）</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-constant);">msg</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-function);">setRecipient</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">MimeMessage</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-constant);">RecipientType</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-constant);">TO</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">new</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">InternetAddress(PLAYER_MAIL)</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-comment);">// 设置收件人</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-constant);">msg</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-function);">setSubject</span><span style="color:var(--shiki-color-text);">(SUBJECT);</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-constant);">msg</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-function);">setContent</span><span style="color:var(--shiki-color-text);">(MAIL_HTML</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&quot;text/html;charset=utf-8&quot;</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-comment);">// 你甚至可以把本站通过 HTML 发给客户！但大多数邮件客户端都禁止邮件使用 JavaScript（不会执行）</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-constant);">msg</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-function);">saveChanges</span><span style="color:var(--shiki-color-text);">(); </span><span style="color:var(--shiki-token-comment);">// 保存一下</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-constant);">Transport</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-function);">send</span><span style="color:var(--shiki-color-text);">(msg); </span><span style="color:var(--shiki-token-comment);">// 无连接发送</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">} </span><span style="color:var(--shiki-token-keyword);">catch</span><span style="color:var(--shiki-color-text);"> (</span><span style="color:var(--shiki-token-keyword);">MessagingException</span><span style="color:var(--shiki-color-text);"> e) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-constant);">e</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-function);">printStackTrace</span><span style="color:var(--shiki-color-text);">();</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">}</span></span></code></pre></div><p>有注释说明，应该很简单。唯一要注意的是邮件客户端可能不能完整地支持 HTML 文本。</p><p><em>如果不会 HTML，不要强求，使用纯文本也是可以的。</em></p><p>另外有几个类和 <code>java.net</code> 中的类同名，别导入错了！以下是应该导入的类：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki css-variables"><code><span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">javax</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-keyword);">mail</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-keyword);">*</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">javax</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-keyword);">mail</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-keyword);">internet</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-keyword);">InternetAddress</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">javax</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-keyword);">mail</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-keyword);">internet</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-keyword);">MimeMessage</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">java</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-keyword);">util</span><span style="color:var(--shiki-token-punctuation);">.</span><span style="color:var(--shiki-token-keyword);">Properties</span><span style="color:var(--shiki-color-text);">;</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title"><img src="data:image/svg+xml,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; viewBox=&#39;0 0 16 16&#39; transform=&#39;scale(0.6)&#39; fill=&#39;%23fff&#39;%3E%3Cpath d=&#39;M9.1 0C10.2 0 10.7 0.7 10.7 1.6 10.7 2.6 9.8 3.6 8.6 3.6 7.6 3.6 7 3 7 2 7 1.1 7.7 0 9.1 0Z&#39;/%3E%3Cpath d=&#39;M5.8 16C5 16 4.4 15.5 5 13.2L5.9 9.1C6.1 8.5 6.1 8.2 5.9 8.2 5.7 8.2 4.6 8.6 3.9 9.1L3.5 8.4C5.6 6.6 7.9 5.6 8.9 5.6 9.8 5.6 9.9 6.6 9.5 8.2L8.4 12.5C8.2 13.2 8.3 13.5 8.5 13.5 8.7 13.5 9.6 13.2 10.4 12.5L10.9 13.2C8.9 15.2 6.7 16 5.8 16Z&#39;/%3E%3C/svg%3E" style="background-color:#0B87DA;clip-path:circle();" width="24px" height="24px"> <strong>到底怎么回事</strong>？</p><p>邮件客户端没有统一的标准，虽然大多数都实现了浏览器的功能，但 HTML 可能无法被完整地支持。因此建议<strong>除了 HTML 以外，将纯文本内容也附在邮件中</strong>，这可以减少因 HTML 未能渲染而导致的阅读困难。</p><p>另外，在邮件中使用 JavaScript <strong>绝对不是个好主意</strong>（你自己试试看不就知道了）！</p></div><p>这样，一封邮件就发出去了。很简单吧？</p>`,32),r=[e];function l(i,p,c,k,h,y){return o(),a("div",null,r)}const x=s(t,[["render",l]]);export{u as __pageData,x as default};
